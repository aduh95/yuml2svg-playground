!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=25)}([function(e,t,r){const n=r(1),o=function(e){let t="";for(let n=0;n<e.length;n++)t+=r(e.charAt(n));function r(e){return e=(e=(e=(e=e.replace("{","\\{").replace("}","\\}")).replace(";","\\n")).replace(" ","\\ ")).replace("<","\\<").replace(">","\\>")}return t},a=function(e,t,r){if(e&&e.length>=t){let n=e.lastIndexOf(" ");if(n>0){const o=e.substring(0,n),i=e.substring(n+1);return o+r+a(i,t,r)}}return e},i=function(e){return e.shape&&"record"===e.shape&&(e.shape="rectangle"),"["+Object.keys(e).map(t=>`${t}=`+("string"==typeof e[t]?`"${e[t]}"`:e[t])).join(" , ")+" ]"};e.exports={buildDotHeader:function(e){let t="digraph G {\n";return e?(t+="  graph [ bgcolor=transparent, fontname=Helvetica ]\n",t+="  node [ color=white, fontcolor=white, fontname=Helvetica ]\n",t+="  edge [ color=white, fontcolor=white, fontname=Helvetica ]\n"):(t+="  graph [ fontname=Helvetica ]\n",t+="  node [ fontname=Helvetica ]\n",t+="  edge [ fontname=Helvetica ]\n"),t},escape_label:o,escape_token_escapes:function(e){return e.replace("\\[","\\u005b").replace("\\]","\\u005d")},extractBgAndNote:function(e,t){const r={bg:"",isNote:!1,luma:128},o=/^(.*)\{ *bg *: *([a-zA-Z]+\d*|#[0-9a-fA-F]{6}) *\}$/.exec(e);if(null!==o&&3===o.length){const e=n(o[2].trim());r.part=o[1].trim(),r.bg=e.hex(),r.fontcolor=e.isDark()?"white":"black"}else r.part=e.trim();return t&&e.startsWith("note:")&&(r.part=r.part.substring(5).trim(),r.isNote=!0),r},formatLabel:function(e,t,r){let n=[e];r&&e.indexOf("|")>=0&&(n=e.split("|"));for(let e=0;e<n.length;e++)n[e]=a(n[e],t,"\\n");return e=n.join("|"),o(e)},unescape_token_escapes:function(e){return e.replace("\\u005b","[").replace("\\u005d","]")},recordName:function(e){return e.split("|")[0].trim()},serializeDot:i,serializeDotElements:function(e){let t="";for(let r of e)2===r.length?t+=`    ${r[0]} ${i(r[1])}\n`:3===r.length&&(t+=`    ${r[0]} -> ${r[1]} ${i(r[2])}\n`);return t},splitYumlExpr:function(e,t,r="\\"){let n="",o=null;const a=[];for(let i=0;i<e.length;i++){let s=e[i];if(s===r&&i+1<e.length)n+=s,n+=e[++i];else if(t.indexOf(s)>=0&&null===o){switch(n.length>0&&(a.push(n.trim()),n=""),s){case"[":o="]";break;case"(":o=")";break;case"<":o=">";break;case"|":o="|";break;default:o=null}n=s}else s===o?(o=null,a.push(n.trim()+s),n=""):n+=s}return n.length>0&&a.push(n.trim()),a},wordwrap:a}},function(e,t,r){"use strict";var n=r(19),o=r(16),a=[].slice,i=["keyword","gray","hex"],s={};Object.keys(o).forEach(function(e){s[a.call(o[e].labels).sort().join("")]=e});var l={};function h(e,t){if(!(this instanceof h))return new h(e,t);if(t&&t in i&&(t=null),t&&!(t in o))throw new Error("Unknown model: "+t);var r,c;if(e)if(e instanceof h)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var u=n.get(e);if(null===u)throw new Error("Unable to parse color from string: "+e);this.model=u.model,c=o[this.model].channels,this.color=u.value.slice(0,c),this.valpha="number"==typeof u.value[c]?u.value[c]:1}else if(e.length){this.model=t||"rgb",c=o[this.model].channels;var f=a.call(e,0,c);this.color=d(f,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var g=Object.keys(e);"alpha"in e&&(g.splice(g.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var p=g.sort().join("");if(!(p in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[p];var b=o[this.model].labels,m=[];for(r=0;r<b.length;r++)m.push(e[b[r]]);this.color=d(m)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(l[this.model])for(c=o[this.model].channels,r=0;r<c;r++){var v=l[this.model][r];v&&(this.color[r]=v(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(l[e]||(l[e]=[]))[t]=r}),e=e[0],function(n){var o;return arguments.length?(r&&(n=r(n)),(o=this[e]()).color[t]=n,o):(o=this[e]().color[t],r&&(o=r(o)),o)}}function u(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}h.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=o[this.model].channels,r=o[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new h(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new h(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,u(255)),green:c("rgb",1,u(255)),blue:c("rgb",2,u(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:c("hsl",1,u(100)),lightness:c("hsl",2,u(100)),saturationv:c("hsv",1,u(100)),value:c("hsv",2,u(100)),chroma:c("hcg",1,u(100)),gray:c("hcg",2,u(100)),white:c("hwb",1,u(100)),wblack:c("hwb",2,u(100)),cyan:c("cmyk",0,u(100)),magenta:c("cmyk",1,u(100)),yellow:c("cmyk",2,u(100)),black:c("cmyk",3,u(100)),x:c("xyz",0,u(100)),y:c("xyz",1,u(100)),z:c("xyz",2,u(100)),l:c("lab",0,u(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new h(e):o[this.model].keyword(this.color)},hex:function(e){return arguments.length?new h(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return h.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),n=this.rgb(),o=void 0===t?.5:t,a=2*o-1,i=r.alpha()-n.alpha(),s=((a*i==-1?a:(a+i)/(1+a*i))+1)/2,l=1-s;return h.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue(),r.alpha()*o+n.alpha()*(1-o))}},Object.keys(o).forEach(function(e){if(-1===i.indexOf(e)){var t=o[e].channels;h.prototype[e]=function(){if(this.model===e)return new h(this);if(arguments.length)return new h(arguments,e);var r,n="number"==typeof arguments[t]?t:this.valpha;return new h((r=o[this.model][e].raw(this.color),Array.isArray(r)?r:[r]).concat(n),e)},h[e]=function(r){return"number"==typeof r&&(r=d(a.call(arguments),t)),new h(r,e)}}}),e.exports=h},function(e,t,r){var n=r(3),o={};for(var a in n)n.hasOwnProperty(a)&&(o[n[a]]=a);var i=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in i)if(i.hasOwnProperty(s)){if(!("channels"in i[s]))throw new Error("missing channels property: "+s);if(!("labels"in i[s]))throw new Error("missing channel labels property: "+s);if(i[s].labels.length!==i[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=i[s].channels,h=i[s].labels;delete i[s].channels,delete i[s].labels,Object.defineProperty(i[s],"channels",{value:l}),Object.defineProperty(i[s],"labels",{value:h})}i.rgb.hsl=function(e){var t,r,n=e[0]/255,o=e[1]/255,a=e[2]/255,i=Math.min(n,o,a),s=Math.max(n,o,a),l=s-i;return s===i?t=0:n===s?t=(o-a)/l:o===s?t=2+(a-n)/l:a===s&&(t=4+(n-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),r=(i+s)/2,[t,100*(s===i?0:r<=.5?l/(s+i):l/(2-s-i)),100*r]},i.rgb.hsv=function(e){var t,r,n=e[0],o=e[1],a=e[2],i=Math.min(n,o,a),s=Math.max(n,o,a),l=s-i;return r=0===s?0:l/s*1e3/10,s===i?t=0:n===s?t=(o-a)/l:o===s?t=2+(a-n)/l:a===s&&(t=4+(n-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,r,s/255*1e3/10]},i.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[i.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},i.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,o=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-o)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]},i.rgb.keyword=function(e){var t=o[e];if(t)return t;var r,a,i,s=1/0;for(var l in n)if(n.hasOwnProperty(l)){var h=n[l],c=(a=e,i=h,Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2)+Math.pow(a[2]-i[2],2));c<s&&(s=c,r=l)}return r},i.keyword.rgb=function(e){return n[e]},i.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},i.rgb.lab=function(e){var t=i.rgb.xyz(e),r=t[0],n=t[1],o=t[2];return n/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},i.hsl.rgb=function(e){var t,r,n,o,a,i=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[a=255*l,a,a];t=2*l-(r=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var h=0;h<3;h++)(n=i+1/3*-(h-1))<0&&n++,n>1&&n--,a=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,o[h]=255*a;return o},i.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,o=r,a=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,o*=a<=1?a:2-a,[t,100*(0===n?2*o/(a+o):2*r/(n+r)),100*((n+r)/2)]},i.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,o=Math.floor(t)%6,a=t-Math.floor(t),i=255*n*(1-r),s=255*n*(1-r*a),l=255*n*(1-r*(1-a));switch(n*=255,o){case 0:return[n,l,i];case 1:return[s,n,i];case 2:return[i,n,l];case 3:return[i,s,n];case 4:return[l,i,n];case 5:return[n,i,s]}},i.hsv.hsl=function(e){var t,r,n,o=e[0],a=e[1]/100,i=e[2]/100,s=Math.max(i,.01);return n=(2-a)*i,r=a*s,[o,100*(r=(r/=(t=(2-a)*s)<=1?t:2-t)||0),100*(n/=2)]},i.hwb.rgb=function(e){var t,r,n,o,a,i,s,l=e[0]/360,h=e[1]/100,c=e[2]/100,u=h+c;switch(u>1&&(h/=u,c/=u),r=1-c,n=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(n=1-n),o=h+n*(r-h),t){default:case 6:case 0:a=r,i=o,s=h;break;case 1:a=o,i=r,s=h;break;case 2:a=h,i=r,s=o;break;case 3:a=h,i=o,s=r;break;case 4:a=o,i=h,s=r;break;case 5:a=r,i=h,s=o}return[255*a,255*i,255*s]},i.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},i.xyz.rgb=function(e){var t,r,n,o=e[0]/100,a=e[1]/100,i=e[2]/100;return r=-.9689*o+1.8758*a+.0415*i,n=.0557*o+-.204*a+1.057*i,t=(t=3.2406*o+-1.5372*a+-.4986*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},i.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},i.lab.xyz=function(e){var t,r,n,o=e[0],a=e[1],i=e[2];t=a/500+(r=(o+16)/116),n=r-i/200;var s=Math.pow(r,3),l=Math.pow(t,3),h=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=l>.008856?l:(t-16/116)/7.787,n=h>.008856?h:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},i.lab.lch=function(e){var t,r=e[0],n=e[1],o=e[2];return(t=360*Math.atan2(o,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+o*o),t]},i.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},i.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],o=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var a=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===o&&(a+=60),a},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},i.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},i.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(e){var t,r,n=e[0]/255,o=e[1]/255,a=e[2]/255,i=Math.max(Math.max(n,o),a),s=Math.min(Math.min(n,o),a),l=i-s;return t=l<1?s/(1-l):0,r=l<=0?0:i===n?(o-a)/l%6:i===o?2+(a-n)/l:4+(n-o)/l+4,r/=6,[360*(r%=1),100*l,100*t]},i.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,o=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(o=(r-.5*n)/(1-n)),[e[0],100*n,100*o]},i.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},i.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var o,a=[0,0,0],i=t%1*6,s=i%1,l=1-s;switch(Math.floor(i)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return o=(1-r)*n,[255*(r*a[0]+o),255*(r*a[1]+o),255*(r*a[2]+o)]},i.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},i.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},i.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},i.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]]},i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){e.exports=r(24)},function(e,t,r){e.exports=(()=>window)},function(e,t,r){const n=r(5),o="http://www.w3.org/2000/svg";e.exports=function(e){const{document:t}=n(),r=t.createElement("svg");r.setAttribute("xmlns",o),this.getDocument=function(){return r},this.setDocumentSize=function(e,t){const r=this.getDocument();r.setAttribute("width",e),r.setAttribute("height",t)},this.createRect=function(r,n){const a=t.createElementNS(o,"rect");return a.setAttribute("width",r),a.setAttribute("height",n),a.setAttribute("style","stroke-width: 1; fill: none; stroke: "+(e?"white;":"black;")),a},this.createText=function(r,n,a,i){const s=t.createElementNS(o,"g"),l=r.split("\n");a-=(l.length-1)/2*18;for(let r=0;r<l.length;r++){const h=t.createElementNS(o,"text");h.textContent=l[r],h.setAttribute("fill",i||e?"white":"black"),h.setAttribute("x",n),h.setAttribute("y",a),h.style.textAnchor="middle",h.style.alignmentBaseline="central",a+=18,s.appendChild(h)}return s},this.getTextSize=function(e){let t=0;const r=e.split("\n");for(let e=0;e<r.length;e++)t=Math.max(t,8.5*r[e].length);return{x:0,y:0,width:t,height:18*r.length}},this.createPath=function(r,n){const a=arguments,i=r.replace(/\{(\d+)\}/g,function(e,t){return a[parseInt(t)+2]}),s=t.createElementNS(o,"path");return s.setAttribute("d",i),s.setAttribute("style","stroke-width: 1; fill: none; stroke: "+(e?"white;":"black;")),"dashed"===n&&s.setAttribute("stroke-dasharray","7,4"),s},this.serialize=function(){return this.getDocument().outerHTML}}},function(e,t,r){const n=r(6);e.exports=function(e,t,r,o){function a(e){return e.replace(/\\ /g," ").replace(/\\n/g,"\n")}function i(e){return e.x+e.width/2}function s(e){return e.y+e.height/2}this.svg_=new n(o),this._actors_height=0,this._signals_height=0,this.actors=e,this.signals=t,this.width=0,this.height=0,this.draw=function(){this.layout(),this.svg_.setDocumentSize(this.width,this.height);this.draw_actors(10),this.draw_signals(10+this._actors_height)},this.layout=function(){this.width=0,this.height=0,this.actors.forEach(function(e){const t=a(e.label),r=this.svg_.getTextSize(t);e.text_bb=r,e.x=0,e.y=0,e.width=r.width+40,e.height=r.height+40,e.distances=[],e.padding_right=0,this._actors_height=Math.max(e.height,this._actors_height)},this),t.forEach(function(t){let r,n;const o=a(t.message),i=this.svg_.getTextSize(o);t.text_bb=i,t.width=i.width,t.height=i.height;let s=0;"signal"===t.type?(t.width+=20,t.height+=20,t.actorA===t.actorB?(n=(r=t.actorA.index)+1,t.width+=20):(r=Math.min(t.actorA.index,t.actorB.index),n=Math.max(t.actorA.index,t.actorB.index))):"note"===t.type&&(t.width+=30,t.height+=30,s=20,n=(r=t.actor.index)+1),function(t,r,n){console.assert(t<r,"a must be less than or equal to b"),t<0?(r=e[r]).x=Math.max(n-r.width/2,r.x):r>=e.length?(t=e[t]).padding_right=Math.max(n,t.padding_right):(t=e[t]).distances[r]=Math.max(n,t.distances[r]?t.distances[r]:0)}(r,n,t.width+s),this._signals_height+=t.height},this);let r=0;return this.actors.forEach(function(t){t.x=Math.max(r,t.x),t.distances.forEach(function(r,n){n=e[n],r=Math.max(r,t.width/2,n.width/2),n.x=Math.max(n.x,t.x+t.width/2+r-n.width/2)}),r=t.x+t.width+t.padding_right},this),this.width=20+Math.max(r,this.width),this.height=20+2*this._actors_height+this._signals_height,this},this.draw_actors=function(e){const t=e;this.actors.forEach(function(e){this.draw_actor(e,t,this._actors_height),this.draw_actor(e,t+this._actors_height+this._signals_height,this._actors_height);const r=i(e),n=this.svg_.createPath("M{0},{1} v{2}","solid",r,t+this._actors_height-10,20+this._signals_height);this.svg_.getDocument().appendChild(n)},this)},this.draw_actor=function(e,t,r){e.y=t,e.height=r,this.draw_text_box(e,e.label,10,10)},this.draw_signals=function(e){let t=e;this.signals.forEach(function(e){"signal"===e.type?e.actorA===e.actorB?this.draw_self_signal(e,t):this.draw_signal(e,t):"note"===e.type&&this.draw_note(e,t),t+=e.height},this)},this.draw_self_signal=function(e,t){const r=e.text_bb,n=i(e.actorA),o=n+20+5+r.width/2,a=t+e.height/2;this.draw_text(o,a,e.message,!0);const s=this.svg_.createPath("M{0},{1} C{2},{1} {2},{3} {0},{3}",e.linetype,n,t+5,n+40,t+e.height);s.setAttribute("marker-end","url(#"+e.arrowtype+")"),this.svg_.getDocument().appendChild(s)},this.draw_signal=function(e,t){const r=i(e.actorA),n=i(e.actorB),o=(n-r)/2+r;let a=t+5+10;this.draw_text(o,a,e.message,!0),a=t+e.height-5-5;const s=this.svg_.createPath("M{0},{1} h{2}",e.linetype,r,a,n-r);s.setAttribute("marker-end","url(#"+e.arrowtype+")"),this.svg_.getDocument().appendChild(s)},this.draw_note=function(e,t){const r=i(e.actor);e.x=r+10,e.y=t;const n=this.svg_.createPath("M{0},{1} L{0},{2} L{3},{2} L{0},{1} L{4},{1} L{4},{5} L{3},{5} L{3},{2} Z","solid",e.x-10+e.width-7,e.y+10,e.y+10+7,e.x-10+e.width,e.x+10,e.y-10+e.height);e.hasOwnProperty("bgcolor")&&n.setAttribute("style",n.getAttribute("style").replace("fill: none","fill: "+e.bgcolor)),this.svg_.getDocument().appendChild(n);let o=i(e),a=s(e);e.hasOwnProperty("fontcolor")?this.draw_text(o,a,e.message,!0,e.fontcolor):this.draw_text(o,a,e.message,!0)},this.draw_text=function(e,t,r,n,o){r=a(r);const i=this.svg_.createText(r,e,t,o);if(!n){const n=this.svg_.getTextSize(r),o=this.svg_.createRect(n.width,n.height);o.setAttribute("x",e),o.setAttribute("y",t),this.svg_.getDocument().appendChild(o)}this.svg_.getDocument().appendChild(i)},this.draw_text_box=function(e,t,r){let n=e.x+r,o=e.y+r;const a=e.width-2*r,l=e.height-2*r,h=this.svg_.createRect(a,l);h.setAttribute("x",n),h.setAttribute("y",o),this.svg_.getDocument().appendChild(h),n=i(e),o=s(e),this.draw_text(n,o,t,!0)},this.draw()}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,splitYumlExpr:i}=r(0),s=r(7);function l(e){const t=[],r=i(e,"[");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\[.*\]$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"object",e.part,e.bg,e.fontcolor])}else{if(!(o.indexOf(">")>=0))throw new Error("Invalid expression");{let e=o.indexOf(".>")>=0?"dashed":"solid";e=o.indexOf(">>")>=0?"async":e;let r="";(o.startsWith("(")||o.startsWith(")"))&&(r=o.substr(0,1),o=o.substr(1));let n="";const a=o.match(/[\.|>]{0,1}>[\(|\)]{0,1}$/);if(null===a)throw new Error("Invalid expression");a.index>0&&(n=o.substr(0,a.index),o=o.substr(a.index));let i="";(o.endsWith("(")||o.endsWith(")"))&&(i=o.charAt(o.length-1),o=o.substr(0,o.length-1)),t.push(["signal",r,n,e,i])}}}return t}e.exports=function(e,t){const r=[],n=[],i={};for(let t=0;t<e.length;t++){const s=l(e[t]);for(let e=0;e<s.length;e++)if("object"===s[e][0]){let t=s[e][1];const n=a(t);if(n in i)continue;t=o(t,20,!0);const l={type:s[e][0],name:n,label:t,index:r.length};i[n]=l,r.push(l)}const h=3===s.length&&"object"===s[0][0]&&"signal"===s[1][0];if(h&&"object"===s[2][0]){const[e,t,r,o]=s[1],l=i[a(s[0][1])],h=i[a(s[2][1])];switch(o){case"dashed":n.push({type:"signal",actorA:l,actorB:h,linetype:"dashed",arrowtype:"arrow-filled",message:r});break;case"solid":n.push({type:"signal",actorA:l,actorB:h,linetype:"solid",arrowtype:"arrow-filled",message:r});break;case"async":n.push({type:"signal",actorA:l,actorB:h,linetype:"solid",arrowtype:"arrow-open",message:r})}}else if(h&&"note"===s[2][0]){const e=i[a(s[0][1])],t={type:"note",message:o(s[2][1],20,!0),actor:e};s[2][2]&&(t.bgcolor=s[2][2]),s[2][3]&&(t.fontcolor=s[2][3]),n.push(t)}}return new s(r,n,i,t.isDark).svg_.serialize()}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,serializeDot:i,splitYumlExpr:s}=r(0),l=r(1),h=.5;function c(e){const t=[],r=s(e,"[");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\[.*\]$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"tab",e.part,e.bg,e.fontcolor])}else if("-"===o)t.push(["edge","none","none","","dashed"]);else{if(!o.match(/->$/))throw new Error(`Invalid expression - ${o}.`);o=o.substr(0,o.length-2).trim(),t.push(["edge","none","vee",o,"dashed"])}}return t}e.exports=function(e,t){const r={};let n=0,s=`    ranksep = ${h}\n`;s+="    rankdir = "+t.dir+"\n";for(let t=0;t<e.length;t++){const h=c(e[t]);for(let e=0;e<h.length;e++){const t=h[e][0];if("note"===t||"tab"===t){let c=h[e][1];if(r.hasOwnProperty(a(c)))continue;const u="A"+(n++).toString();r[a(c)]=u;const d={shape:t,height:.5,fontsize:10,margin:"0.20,0.05",label:c=o(c,20,!0)};if(h[e][2]){const t=l(h[e][2]);d.style="filled",d.fillcolor=t.hex(),d.fontcolor=t.isDark()?"white":"black"}h[e][3]&&(d.fontcolor=h[e][3]),s+="    "+u+" "+i(d)+"\n"}}for(let e=1;e<h.length-1;e++)if("edge"===h[e][0]&&"edge"!==h[e-1][0]&&"edge"!==h[e+1][0]){const t={shape:"edge",dir:"both",style:"note"===h[e-1][0]||"note"===h[e+1][0]?"dashed":h[e][4],arrowtail:h[e][1],arrowhead:h[e][2],labeldistance:2,fontsize:10};h[e][3].length>0&&(t.label=h[e][3]),s+="    "+r[a(h[e-1][1])]+" -> "+r[a(h[e+1][1])]+" "+i(t)+"\n"}}return s+="}\n"}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,serializeDot:i,splitYumlExpr:s}=r(0),l=r(1),h=.5;function c(e){const t=[],r=s(e,"[");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\[.*\]$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"box3d",e.part,e.bg,e.fontcolor])}else{if(!o.match(/-$/))throw new Error(`Invalid expression - ${o}.`);o=o.substr(0,o.length-1).trim(),t.push(["edge","none","none",o,"solid"])}}return t}e.exports=function(e,t){const r={};let n=0,s=`    ranksep = ${h}\n`;s+="    rankdir = "+t.dir+"\n";for(let t=0;t<e.length;t++){let h;const u=c(e[t]);for(h=0;h<u.length;h++){const e=u[h][0];if("note"===e||"box3d"===e){const t=u[h][1];if(r.hasOwnProperty(a(t)))continue;const c="A"+(n++).toString();r[a(t)]=c;const d={shape:e,height:.5,fontsize:10,margin:"0.20,0.05",label:o(t,20,!0)};if(u[h][2]){const e=l(u[h][2]);d.style="filled",d.fillcolor=e.hex(),d.fontcolor=e.isDark()?"white":"black"}u[h][3]&&(d.fontcolor=u[h][3]),s+="    "+c+" "+i(d)+"\n"}}for(h=1;h<u.length-1;h++)if("edge"===u[h][0]&&"edge"!==u[h-1][0]&&"edge"!==u[h+1][0]){const e={shape:"edge",dir:"both",style:"note"===u[h-1][0]||"note"===u[h+1][0]?"dashed":u[h][4],arrowtail:u[h][1],arrowhead:u[h][2],labeldistance:2,fontsize:10};u[h][3].length>0&&(e.label=u[h][3]),s+="    "+r[a(u[h-1][1])]+" -> "+r[a(u[h+1][1])]+" "+i(e)+"\n"}}return s+="}\n"}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,serializeDot:i,splitYumlExpr:s}=r(0),l=r(1),h=.5;function c(e){const t=[],r=s(e,"(");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\(.*\)$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"record",e.part,e.bg,e.fontcolor])}else if(o.match(/->$/))o=o.substr(0,o.length-2).trim(),t.push(["edge","none","vee",o,"solid"]);else{if("-"!==o)throw new Error(`Invalid expression - ${o}.`);t.push(["edge","none","none","","solid"])}}return t}e.exports=function(e,t){let r;const n={};let s=0,u=`    ranksep = ${h}\n`;u+="    rankdir = "+t.dir+"\n";for(let t=0;t<e.length;t++){const h=c(e[t]);for(let e=0;e<h.length;e++){const t=h[e][0];if("note"===t||"record"===t){let c=h[e][1];if(n.hasOwnProperty(a(c)))continue;const d="A"+(s++).toString();if(n[a(c)]=d,"record"!==t||"start"!==c&&"end"!==c){if(r={shape:t,height:.5,fontsize:10,margin:"0.20,0.05",label:o(c,20,!0),style:"rounded"},h[e][2]){const t=l(h[e][2]);r.style="filled",r.fillcolor=t.hex(),r.fontcolor=t.isDark()?"white":"black"}h[e][3]&&(r.fontcolor=h[e][3])}else r={shape:"start"===c?"circle":"doublecircle",height:.3,width:.3,margin:"0,0",label:""};u+="    "+d+" "+i(r)+"\n"}}for(let e=1;e<h.length-1;e++)if("edge"===h[e][0]&&"edge"!==h[e-1][0]&&"edge"!==h[e+1][0]){const t={shape:"edge",dir:"both",style:"note"===h[e-1][0]||"note"===h[e+1][0]?"dashed":h[e][4],arrowtail:h[e][1],arrowhead:h[e][2],labeldistance:2,fontsize:10};h[e][3].length>0&&(t.label=h[e][3]),u+="    "+n[a(h[e-1][1])]+" -> "+n[a(h[e+1][1])]+" "+i(t)+"\n"}}return u+="}\n"}},function(e,t,r){const{escape_label:n,extractBgAndNote:o,recordName:a,serializeDotElements:i,splitYumlExpr:s}=r(0),l=r(1),h=.5;function c(e){const t=[],r=s(e,"(<|");for(let e=0;e<r.length;e++){let n=r[e].trim();if(0!==n.length)if(n.match(/^\(.*\)$/)){n=n.substr(1,n.length-2);const e=o(n,!0);t.push([e.isNote?"note":"record",e.part,e.bg,e.fontcolor])}else if(n.match(/^<.*>$/))n=n.substr(1,n.length-2),t.push(["diamond",n]);else if(n.match(/^\|.*\|$/))n=n.substr(1,n.length-2),t.push(["mrecord",n]);else if(n.match(/->$/))n=n.substr(0,n.length-2).trim(),t.push(["edge","none","vee",n,"solid"]);else{if("-"!==n)throw new Error("Invalid expression");t.push(["edge","none","none","","solid"])}}return t}function u(e,t){for(let r=0;r<e.length;r++)if(2===e[r].length&&e[r][0]===t){const t=e[r][1];let n=1;return t.label.length>0?(n=t.label.split("|").length+1,t.label+="|<f"+n+">"):t.label="<f1>","f"+n}return null}e.exports=function(e,t){let r,o,s;const d={};let f=0;const g=[],p={LR:"w",RL:"e",TB:"n"};for(let i=0;i<e.length;i++){const h=c(e[i]);for(let e=0;e<h.length;e++)if("note"===h[e][0]||"record"===h[e][0]){if(s=h[e][1],d.hasOwnProperty(a(s)))continue;if(o="A"+(f++).toString(),d[a(s)]=o,"record"!==h[e][0]||"start"!==s&&"end"!==s){if(r={shape:h[e][0],height:.5,fontsize:10,margin:"0.20,0.05",label:n(s),style:"rounded"},h[e][2]){const t=l(h[e][2]);r.style+=",filled",r.fillcolor=t.hex(),r.fontcolor=t.isDark()?"white":"black"}h[e][3]&&(r.fontcolor=h[e][3])}else r={shape:"start"===s?"circle":"doublecircle",height:.3,width:.3,margin:"0,0",label:""};g.push([o,r])}else if("diamond"===h[e][0]){if(s=h[e][1],d.hasOwnProperty(a(s)))continue;o="A"+(f++).toString(),d[a(s)]=o,r={shape:"diamond",height:.5,width:.5,margin:"0,0",label:""},g.push([o,r])}else if("mrecord"===h[e][0]){if(s=h[e][1],d.hasOwnProperty(a(s)))continue;o="A"+(f++).toString(),d[a(s)]=o,r={shape:"record",height:"TB"===t.dir?.05:.5,width:"TB"===t.dir?.5:.05,margin:"0,0",style:"filled",label:"",fontsize:1,penwidth:4},g.push([o,r])}for(let e=1;e<h.length-1;e++)if("edge"===h[e][0]&&"edge"!==h[e-1][0]&&"edge"!==h[e+1][0]){const r={shape:"edge",dir:"both",style:"note"===h[e-1][0]||"note"===h[e+1][0]?"dashed":h[e][4],arrowtail:h[e][1],arrowhead:h[e][2],labeldistance:1,fontsize:10};h[e][3].length>0&&(r.label=h[e][3]);const n=d[a(h[e-1][1])];let o=d[a(h[e+1][1])];"mrecord"===h[e+1][0]&&(o+=":"+u(g,o)+":"+p[t.dir]),g.push([n,o,r])}}let b=`    ranksep = ${h}\n`;return b+="    rankdir = "+t.dir+"\n",b+=i(g),b+="}\n"}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,serializeDot:i,splitYumlExpr:s}=r(0),l=r(1);function h(e){const t=[],r=s(e,"[(");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\(.*\)$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"record",e.part,e.bg,e.fontcolor])}else if(o.match(/^\[.*\]$/))o=o.substr(1,o.length-2),t.push(["actor",o]);else switch(o){case"<":t.push(["edge","vee","<<extend>>","none","dashed"]);break;case">":t.push(["edge","none","<<include>>","vee","dashed"]);break;case"-":t.push(["edge","none","","none","solid"]);break;case"^":t.push(["edge","none","","empty","solid"]);break;default:throw new Error(`Invalid expression - ${o}.`)}}return t}e.exports=function(e,t){const r={};let n=0,s="    ranksep = 0.7\n";s+="    rankdir = "+t.dir+"\n";for(let t=0;t<e.length;t++){const c=h(e[t]);for(let e=0;e<c.length;e++){const t=c[e][0];if("note"===t||"record"===t||"actor"===t){let h=c[e][1];if(r.hasOwnProperty(a(h)))continue;const u="A"+(n++).toString();r[a(h)]=u,h=o(h,20,!1);const d={fontsize:10};if("actor"===t)d.margin="0.05,0.05",d.shape="none",d.label="{img:actor} "+h,d.height=1;else{if(d.margin="0.20,0.05",d.shape="record"===t?"ellipse":"note",d.label=h,d.height=.5,c[e][2]){const t=l(c[e][2]);d.style="filled",d.fillcolor=t.hex(),d.fontcolor=t.isDark()?"white":"black"}c[e][3]&&(d.fontcolor=c[e][3])}s+="    "+u+" "+i(d)+"\n"}}if(3===c.length&&"edge"===c[1][0]){const e={shape:"edge",dir:"both",style:"note"===c[0][0]||"note"===c[2][0]?"dashed":c[1][4],arrowtail:c[1][1],arrowhead:c[1][3],labeldistance:2,fontsize:10};c[1][2].length>0&&(e.label=c[1][2]),s+="    "+r[a(c[0][1])]+" -> "+r[a(c[2][1])]+" "+i(e)+"\n"}}return s+="}\n"}},function(e,t,r){const{extractBgAndNote:n,formatLabel:o,recordName:a,serializeDot:i,splitYumlExpr:s}=r(0),l=r(1),h=.7;function c(e){const t=[],r=s(e,"[");for(let e=0;e<r.length;e++){let o=r[e].trim();if(0!==o.length)if(o.match(/^\[.*\]$/)){o=o.substr(1,o.length-2);const e=n(o,!0);t.push([e.isNote?"note":"record",e.part,e.bg,e.fontcolor])}else if("^"===o)t.push(["edge","empty","","none","","solid"]);else{if(!(o.indexOf("-")>=0))throw new Error(`Invalid expression - ${o}.`);{let e,r;if(o.indexOf("-.-")>=0?(e="dashed",r=o.split("-.-")):(e="solid",r=o.split("-")),2!==r.length)throw new Error(`Invalid expression - ${JSON.stringify(r)}.`);const n=r[0],a=r[1];let i,s,l,h;const c=function(e){return e.startsWith("<>")?["odiamond",e.substring(2)]:e.startsWith("++")?["diamond",e.substring(2)]:e.startsWith("+")?["odiamond",e.substring(1)]:e.startsWith("<")||e.endsWith(">")?["vee",e.substring(1)]:e.startsWith("^")?["empty",e.substring(1)]:["none",e]};i=(r=c(n))[0],s=r[1],l=(r=function(e){const t=e.length;return e.endsWith("<>")?["odiamond",e.substring(0,t-2)]:e.endsWith("++")?["diamond",e.substring(0,t-2)]:e.endsWith("+")?["odiamond",e.substring(0,t-1)]:e.endsWith(">")?["vee",e.substring(0,t-1)]:e.endsWith("^")?["empty",e.substring(0,t-1)]:c(e)}(a))[0],h=r[1],t.push(["edge",i,s,l,h,e])}}}return t}e.exports=function(e,t){let r,n;const s={};let u=0,d=`    ranksep = ${h}\n`;d+="    rankdir = "+t.dir+"\n";for(let t=0;t<e.length;t++){const h=c(e[t]);for(let e=0;e<h.length;e++)if("note"===h[e][0]||"record"===h[e][0]){const t=h[e][1];if(s.hasOwnProperty(a(t)))continue;n="A"+(u++).toString(),s[a(t)]=n;const r={shape:h[e][0],height:.5,fontsize:10,margin:"0.20,0.05",label:o(t,20,!0)};if(h[e][2]){const t=l(h[e][2]);r.style="filled",r.fillcolor=t.hex(),r.fontcolor=t.isDark()?"white":"black"}h[e][3]&&(r.fontcolor=h[e][3]),d+="    "+n+" "+i(r)+"\n"}if(3===h.length&&"edge"===h[1][0]){const e="note"===h[0][0]||"note"===h[2][0],t={shape:"edge",dir:"both",style:r=e?"dashed":h[1][5],arrowtail:h[1][1],taillabel:h[1][2],arrowhead:h[1][3],headlabel:h[1][4],labeldistance:2,fontsize:10};d+=e?"    { rank=same; "+s[a(h[0][1])]+" -> "+s[a(h[2][1])]+" "+i(t)+";}\n":"    "+s[a(h[0][1])]+" -> "+s[a(h[2][1])]+" "+i(t)+"\n"}else if(4===h.length&&"record"===h[0][0]&&"edge"===h[1][0]&&"record"===h[2][0]&&"record"===h[3][0]){r=h[1][5];const e={shape:"point",style:"invis",label:"",height:.01,width:.01};d+="    "+(n=s[a(h[0][1])]+"J"+s[a(h[2][1])])+" "+i(e)+"\n";const t={shape:"edge",dir:"both",style:r,arrowtail:h[1][1],taillabel:h[1][2],arrowhead:"none",labeldistance:2,fontsize:10},o={shape:"edge",dir:"both",style:r,arrowtail:"none",arrowhead:h[1][3],headlabel:h[1][4],labeldistance:2,fontsize:10},l={shape:"edge",dir:"both",style:"dashed",arrowtail:"none",arrowhead:"vee",labeldistance:2};d+="    "+s[a(h[0][1])]+" -> "+n+" "+i(t)+"\n",d+="    "+n+" -> "+s[a(h[2][1])]+" "+i(o)+"\n",d+="    { rank=same; "+s[a(h[3][1])]+" -> "+n+" "+i(l)+";}\n"}}return d+="}\n"}},function(e,t,r){var n=r(2);function o(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,o=0;o<r;o++)e[t[o]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var o=r.pop(),a=Object.keys(n[o]),i=a.length,s=0;s<i;s++){var l=a[s],h=t[l];-1===h.distance&&(h.distance=t[o].distance+1,h.parent=o,r.unshift(l))}return t}function a(e,t){return function(r){return t(e(r))}}function i(e,t){for(var r=[t[e].parent,e],o=n[t[e].parent][e],i=t[e].parent;t[i].parent;)r.unshift(t[i].parent),o=a(n[t[i].parent][i],o),i=t[i].parent;return o.conversion=r,o}e.exports=function(e){for(var t=o(e),r={},n=Object.keys(t),a=n.length,s=0;s<a;s++){var l=n[s];null!==t[l].parent&&(r[l]=i(l,t))}return r}},function(e,t,r){var n=r(2),o=r(15),a={};Object.keys(n).forEach(function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:n[e].channels}),Object.defineProperty(a[e],"labels",{value:n[e].labels});var t=o(e);Object.keys(t).forEach(function(r){var n=t[r];a[e][r]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,o=0;o<n;o++)r[o]=Math.round(r[o]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),a[e][r].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),e.exports=a},function(e,t,r){"use strict";e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){"use strict";var n=r(17),o=Array.prototype.concat,a=Array.prototype.slice,i=e.exports=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var s=e[r];n(s)?t=o.call(t,a.call(s)):t.push(s)}return t};i.wrap=function(e){return function(){return e(i(arguments))}}},function(e,t,r){var n=r(3),o=r(18),a={};for(var i in n)n.hasOwnProperty(i)&&(a[n[i]]=i);var s=e.exports={to:{}};function l(e,t,r){return Math.min(Math.max(t,e),r)}function h(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),r="hsl";break;case"hwb":t=s.get.hwb(e),r="hwb";break;default:t=s.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,r,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],r=0;r<3;r++){var i=2*r;a[r]=parseInt(t.slice(i,i+2),16)}o&&(a[3]=Math.round(parseInt(o,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);o&&(a[3]=Math.round(parseInt(o+o,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(a=n[t[1]])?(a[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=l(a[r],0,255);return a[3]=l(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(r)?1:r,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(r)?1:r,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+h(e[0])+h(e[1])+h(e[2])+(e[3]<1?h(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return a[e.slice(0,3)]}},function(e,t){const r={actor:{svgNodes:['<circle cx="0" cy="-20" r="7.5" />','<line x1="0" y1="-12.5" x2="0" y2="5" />','<line x1="-15" y1="-5" x2="15" y2="-5" />','<line x1="0" y1="5" x2="-15" y2="17" />','<line x1="0" y1="5" x2="15" y2="17" />'],translateX:0,translateY:25}};e.exports=function(e,t){return e.replace(/<text\s(.*)>{img:(.*)}(.*)<\/text>/g,function(e,n,o,a){try{const i=`<text ${n}>${a.trim()}</text>`;if(o in r){const e=r[o],[n,a,s]=/<text\s.*x=\"(-?[0-9\.]+)\" y=\"(-?[0-9\.]+)\"/.exec(i);return`<g transform="translate(${a}, ${s})" style="fill:none;stroke:${t?"white":"black"};stroke-width:1px">${e.svgNodes.join("")}</g>\n`+i.replace(' x="'+a+'"',' x="'+(parseFloat(a)+e.translateX)+'"').replace(' y="'+s+'"',' y="'+(parseFloat(s)+e.translateY)+'"')}return console.warn(new Error(`Unknown shape '${o}'`)),i}catch(t){return console.warn(t),e}})}},function(e,t,r){var n,o,a;o=[e,t],void 0===(a="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){var r=this;o(this,e),this.worker=new Worker(t),this.listeners=[],this.nextId=0,this.worker.addEventListener("message",function(e){var t=e.data.id,n=e.data.error,o=e.data.result;r.listeners[t](n,o),delete r.listeners[t]})}return a(e,[{key:"render",value:function(e,t){var r=this;return new Promise(function(n,o){var a=r.nextId++;r.listeners[a]=function(e,t){e?o(new Error(e.message,e.fileName,e.lineNumber)):n(t)},r.worker.postMessage({id:a,src:e,options:t})})}}]),e}(),s=function e(t,r){o(this,e);var n=t();this.render=function(e,t){return new Promise(function(o,a){try{o(r(n,e,t))}catch(e){a(e)}})}};function l(){return"devicePixelRatio"in window&&window.devicePixelRatio>1?window.devicePixelRatio:1}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scale,n=void 0===r?l():r,o=t.mimeType,a=void 0===o?"image/png":o,i=t.quality,s=void 0===i?1:i;return new Promise(function(t,r){var o=new Image;o.onload=function(){var e=document.createElement("canvas");e.width=o.width*n,e.height=o.height*n;var r=e.getContext("2d");r.drawImage(o,0,0,e.width,e.height),e.toBlob(function(e){var r=new Image;r.src=URL.createObjectURL(e),r.width=o.width,r.height=o.height,t(r)},a,s)},o.onerror=function(e){var t;t="error"in e?e.error:new Error("Error loading SVG"),r(t)},o.src="data:image/svg+xml;base64,"+btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))})}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.worker,n=t.Module,a=t.render;if(o(this,e),void 0!==r)this.wrapper=new i(r);else if(void 0!==n&&void 0!==a)this.wrapper=new s(n,a);else{if(void 0===e.Module||void 0===e.render)throw new Error("Must specify worker option, Module and render options, or include one of full.js.opaque or lite.js.opaque after viz.js.");this.wrapper=new s(e.Module,e.render)}}return a(e,[{key:"renderString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format,n=void 0===r?"svg":r,o=t.engine,a=void 0===o?"dot":o,i=t.files,s=void 0===i?[]:i,l=t.images,h=void 0===l?[]:l,c=t.yInvert,u=void 0!==c&&c,d=0;d<h.length;d++)s.push({path:h[d].path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'+h[d].width+'" height="'+h[d].height+'"></svg>'});return this.wrapper.render(e,{format:n,engine:a,files:s,images:h,yInvert:u})}},{key:"renderSVGElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.renderString(e,n({},t,{format:"svg"})).then(function(e){var t=new DOMParser;return t.parseFromString(e,"image/svg+xml").documentElement})}},{key:"renderImageElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.scale,a=t.mimeType,i=t.quality;return this.renderString(e,n({},t,{format:"svg"})).then(function(e){return"object"===("undefined"==typeof fabric?"undefined":r(fabric))&&fabric.loadSVGFromString?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scale,n=void 0===r?l():r,o=t.mimeType,a=void 0===o?"image/png":o,i=t.quality,s=void 0===i?1:i,h=n,c=void 0;return"image/jpeg"==a?c="jpeg":"image/png"==a&&(c="png"),new Promise(function(t,r){fabric.loadSVGFromString(e,function(e,n){0==e.length&&r(new Error("Error loading SVG with Fabric"));var o=document.createElement("canvas");o.width=n.width,o.height=n.height;var a=new fabric.Canvas(o,{enableRetinaScaling:!1}),i=fabric.util.groupSVGElements(e,n);a.add(i).renderAll();var l=new Image;l.src=a.toDataURL({format:c,multiplier:h,quality:s}),l.width=n.width,l.height=n.height,t(l)})})}(e,{scale:o,mimeType:a,quality:i}):h(e,{scale:o,mimeType:a,quality:i})})}},{key:"renderJSONObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format;return"json"===r&&"json0"===r||(r="json"),this.renderString(e,n({},t,{format:r})).then(function(e){return JSON.parse(e)})}}]),e}();t.default=c,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},function(e,t,r){const n=r(21);e.exports=((e,t)=>(t||(t={Module:Module,render:render}),new n(t).renderString(e)))},function(e,t,r){e.exports=((e,t)=>Promise.reject(new Error("Not implemented yet")))},function(e,t,r){const n=r(23),o=r(22),a=r(20),{buildDotHeader:i}=r(0),s={class:r(14),usecase:r(13),activity:r(12),state:r(11),deployment:r(10),package:r(9),sequence:r(8)},l={topDown:"TB",leftToRight:"LR",rightToLeft:"RL"},h=(e,t,r)=>{if(0===e.length)return"";if(!t.hasOwnProperty("type"))return Promise.reject(new Error("Error: Missing mandatory 'type' directive"));if(!(t.type in s))return Promise.reject(new Error("Invalid diagram type"));{const{isDark:n}=t;try{const l=(0,s[t.type])(e,t);return"sequence"===t.type?Promise.resolve(l):o(i(n)+l,r).then(e=>a(e,n))}catch(e){return Promise.reject(e)}}},c=(e,t)=>r=>{(r=r.trim()).startsWith("//")?u(r,e):r.length&&t.push(r)},u=function(e,t){const r=/^\/\/\s+\{\s*([\w]+)\s*:\s*([\w]+)\s*\}$/.exec(e);if(null!==r&&3===r.length){const[e,n,o]=r;switch(n){case"type":o in s?t.type=o:console.warn(new Error("Invalid value for 'type'. Allowed values are: "+Object.keys(s).join(", ")));break;case"direction":o in l?t.dir=l[o]:console.warn(new Error("Invalid value for 'direction'. Allowed values are: "+Object.keys(l).join(", ")));break;case"generate":/^(true|false)$/.test(o)?(t.generate="true"===o,console.warn("Generate option is not supported")):console.warn(new Error("Error: invalid value for 'generate'. Allowed values are: true, false <i>(default)</i>."))}}};e.exports=((e,t,r)=>{t||(t={}),t.dir||(t.dir="TB"),t.type||(t.type="class"),t.isDark||(t.isDark=!1);const o=[];return e.read&&"function"==typeof e.read?n(e,c(t,o)).then(()=>h(o,t,r)):(e.toString().split(/\r|\n/).forEach(c(t,o)),h(o,t,r))})},function(e,t,r){"use strict";r.r(t);var n=r(4),o=r.n(n);let a;const i=e=>{(()=>(a?a.firstChild.remove():((a=document.createElement("div")).className="error",document.body.appendChild(a)),a))().appendChild(document.createTextNode(e.message))};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("text-editor"),t=document.getElementById("result");e.addEventListener("input",e=>{t.classList.add("loading"),o()(e.target.value,{},{worker:"vizWorker.js"}).then(e=>{t.innerHTML=e,a&&(a.remove(),a=null)}).catch(e=>{console.error(e),i(e)}).finally(()=>{t.classList.remove("loading")})})})}]);