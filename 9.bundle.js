(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{12:function(t,i,h){"use strict";h.r(i),i.default=h.e(3).then(h.bind(null,13)).then(t=>t.default).then(t=>(function(i,h,s,e){function a(t){return t.x+t.width/2}function n(t){return t.y+t.height/2}this.svg_=new t(e),this._actors_height=0,this._signals_height=0,this.actors=i,this.signals=h,this.width=0,this.height=0,this.draw=function(){this.layout(),this.svg_.setDocumentSize(this.width,this.height);this.draw_actors(10),this.draw_signals(10+this._actors_height)},this.layout=function(){this.width=0,this.height=0,this.actors.forEach(function(t){const i=this.svg_.getTextSize(t.label);t.text_bb=i,t.x=0,t.y=0,t.width=i.width+40,t.height=i.height+40,t.distances=[],t.padding_right=0,this._actors_height=Math.max(t.height,this._actors_height)},this),h.forEach(function(t){let h,s;const e=this.svg_.getTextSize(t.message);t.text_bb=e,t.width=e.width,t.height=e.height;let a=0;"signal"===t.type?(t.width+=20,t.height+=20,t.actorA===t.actorB?(s=(h=t.actorA.index)+1,t.width+=20):(h=Math.min(t.actorA.index,t.actorB.index),s=Math.max(t.actorA.index,t.actorB.index))):"note"===t.type&&(t.width+=30,t.height+=30,a=20,s=(h=t.actor.index)+1),function(t,h,s){console.assert(t<h,"a must be less than or equal to b"),t<0?(h=i[h]).x=Math.max(s-h.width/2,h.x):h>=i.length?(t=i[t]).padding_right=Math.max(s,t.padding_right):(t=i[t]).distances[h]=Math.max(s,t.distances[h]?t.distances[h]:0)}(h,s,t.width+a),this._signals_height+=t.height},this);let t=0;return this.actors.forEach(function(h){h.x=Math.max(t,h.x),h.distances.forEach(function(t,s){s=i[s],t=Math.max(t,h.width/2,s.width/2),s.x=Math.max(s.x,h.x+h.width/2+t-s.width/2)}),t=h.x+h.width+h.padding_right},this),this.width=20+Math.max(t,this.width),this.height=20+2*this._actors_height+this._signals_height,this},this.draw_actors=function(t){const i=t;this.actors.forEach(function(t){this.draw_actor(t,i,this._actors_height),this.draw_actor(t,i+this._actors_height+this._signals_height,this._actors_height);const h=a(t),s=this.svg_.createPath("M{0},{1} v{2}","solid",h,i+this._actors_height-10,20+this._signals_height);this.svg_.getDocument().appendChild(s)},this)},this.draw_actor=function(t,i,h){t.y=i,t.height=h,this.draw_text_box(t,t.label,10,10)},this.draw_signals=function(t){let i=t;this.signals.forEach(function(t){"signal"===t.type?t.actorA===t.actorB?this.draw_self_signal(t,i):this.draw_signal(t,i):"note"===t.type&&this.draw_note(t,i),i+=t.height},this)},this.draw_self_signal=function(t,i){const h=t.text_bb,s=a(t.actorA),e=s+20+5+h.width/2,n=i+t.height/2;this.draw_text(e,n,t.message,!0);const o=this.svg_.createPath("M{0},{1} C{2},{1} {2},{3} {0},{3}",t.linetype,s,i+5,s+40,i+t.height);o.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(o)},this.draw_signal=function(t,i){const h=a(t.actorA),s=a(t.actorB),e=(s-h)/2+h;let n=i+5+10;this.draw_text(e,n,t.message,!0),n=i+t.height-5-5;const o=this.svg_.createPath("M{0},{1} h{2}",t.linetype,h,n,s-h);o.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(o)},this.draw_note=function(t,i){const h=a(t.actor);t.x=h+10,t.y=i;const s=this.svg_.createPath("M{0},{1} L{0},{2} L{3},{2} L{0},{1} L{4},{1} L{4},{5} L{3},{5} L{3},{2} Z","solid",t.x-10+t.width-7,t.y+10,t.y+10+7,t.x-10+t.width,t.x+10,t.y-10+t.height);t.hasOwnProperty("bgcolor")&&s.setAttribute("style",s.getAttribute("style").replace("fill: none","fill: "+t.bgcolor)),this.svg_.getDocument().appendChild(s);let e=a(t),o=n(t);t.hasOwnProperty("fontcolor")?this.draw_text(e,o,t.message,!0,t.fontcolor):this.draw_text(e,o,t.message,!0)},this.draw_text=function(t,i,h,s,e){const a=this.svg_.createText(h,t,i,e);if(!s){const s=this.svg_.getTextSize(h),e=this.svg_.createRect(s.width,s.height);e.setAttribute("x",t),e.setAttribute("y",i),this.svg_.getDocument().appendChild(e)}this.svg_.getDocument().appendChild(a)},this.draw_text_box=function(t,i,h){let s=t.x+h,e=t.y+h;const o=t.width-2*h,r=t.height-2*h,c=this.svg_.createRect(o,r);c.setAttribute("x",s),c.setAttribute("y",e),this.svg_.getDocument().appendChild(c),s=a(t),e=n(t),this.draw_text(s,e,i,!0)},this.draw()}))}}]);