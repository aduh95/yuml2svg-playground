(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{14:function(e,r,n){"use strict";n.r(r);var t=n(40);let i;var o;r.default=async(e,r,n)=>{return r&&r!==o&&(i=new t(o=r)),(await i).renderString(e,n).catch(e=>{throw r?o=void 0:i=(void 0)(),e})}},40:function(e,r,n){e.exports=function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i=function(){function e(n){var t=this;r(this,e),this.worker=n,this.listeners=[],this.nextId=0,this.worker.addEventListener("message",(function(e){var r=e.data.id,n=e.data.error,i=e.data.result;t.listeners[r](n,i),delete t.listeners[r]}))}return n(e,[{key:"render",value:function(e,r){var n=this;return new Promise((function(t,i){var o=n.nextId++;n.listeners[o]=function(e,r){e?i(new Error(e.message,e.fileName,e.lineNumber)):t(r)},n.worker.postMessage({id:o,src:e,options:r})}))}}]),e}(),o=function e(n,t){r(this,e);var i=n();this.render=function(e,r){return new Promise((function(n,o){try{n(t(i,e,r))}catch(e){o(e)}}))}};function a(){return"devicePixelRatio"in window&&window.devicePixelRatio>1?window.devicePixelRatio:1}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.scale,t=void 0===n?a():n,i=r.mimeType,o=void 0===i?"image/png":i,d=r.quality,s=void 0===d?1:d;return new Promise((function(r,n){var i=new Image;i.onload=function(){var e=document.createElement("canvas");e.width=i.width*t,e.height=i.height*t,e.getContext("2d").drawImage(i,0,0,e.width,e.height),e.toBlob((function(e){var n=new Image;n.src=URL.createObjectURL(e),n.width=i.width,n.height=i.height,r(n)}),o,s)},i.onerror=function(e){var r;r="error"in e?e.error:new Error("Error loading SVG"),n(r)},i.src="data:image/svg+xml;base64,"+btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,r){return String.fromCharCode("0x"+r)})))}))}function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.scale,t=void 0===n?a():n,i=r.mimeType,o=void 0===i?"image/png":i,d=r.quality,s=void 0===d?1:d,u=t,c=void 0;return"image/jpeg"==o?c="jpeg":"image/png"==o&&(c="png"),new Promise((function(r,n){fabric.loadSVGFromString(e,(function(e,t){0==e.length&&n(new Error("Error loading SVG with Fabric"));var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var o=new fabric.Canvas(i,{enableRetinaScaling:!1}),a=fabric.util.groupSVGElements(e,t);o.add(a).renderAll();var d=new Image;d.src=o.toDataURL({format:c,multiplier:u,quality:s}),d.width=t.width,d.height=t.height,r(d)}))}))}return function(){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.workerURL,t=e.worker,d=e.Module,s=e.render;if(r(this,a),void 0!==n)this.wrapper=new i(new Worker(n));else if(void 0!==t)this.wrapper=new i(t);else if(void 0!==d&&void 0!==s)this.wrapper=new o(d,s);else{if(void 0===a.Module||void 0===a.render)throw new Error("Must specify workerURL or worker option, Module and render options, or include one of full.render.js or lite.render.js after viz.js.");this.wrapper=new o(a.Module,a.render)}}return n(a,[{key:"renderString",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.format,t=void 0===n?"svg":n,i=r.engine,o=void 0===i?"dot":i,a=r.files,d=void 0===a?[]:a,s=r.images,u=void 0===s?[]:s,c=r.yInvert,l=void 0!==c&&c,f=r.nop,v=void 0===f?0:f,h=0;h<u.length;h++)d.push({path:u[h].path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'+u[h].width+'" height="'+u[h].height+'"></svg>'});return this.wrapper.render(e,{format:t,engine:o,files:d,images:u,yInvert:l,nop:v})}},{key:"renderSVGElement",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.renderString(e,t({},r,{format:"svg"})).then((function(e){return(new DOMParser).parseFromString(e,"image/svg+xml").documentElement}))}},{key:"renderImageElement",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.scale,o=n.mimeType,a=n.quality;return this.renderString(r,t({},n,{format:"svg"})).then((function(r){return"object"===("undefined"==typeof fabric?"undefined":e(fabric))&&fabric.loadSVGFromString?s(r,{scale:i,mimeType:o,quality:a}):d(r,{scale:i,mimeType:o,quality:a})}))}},{key:"renderJSONObject",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.format;return"json"===n&&"json0"===n||(n="json"),this.renderString(e,t({},r,{format:n})).then((function(e){return JSON.parse(e)}))}}]),a}()}()}}]);