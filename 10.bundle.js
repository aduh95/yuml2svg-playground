(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5,9],{33:function(t,e,i){"use strict";i.r(e);var s=i(32);e.default=class{constructor(){this._uidNb=0,this._uids={}}createUid(t,e){const i=Object(s.recordName)(t);return!this._uids.hasOwnProperty(i)&&(this._uids[i]=e?e("A"+this._uidNb++):"A"+this._uidNb++)}getUid(t){return this._uids[Object(s.recordName)(t)]}}},34:function(t,e,i){"use strict";i.r(e),e.default=i.e(1).then(i.bind(null,36)).then(t=>t.default).then(t=>(function(e,i,s,h){function a(t){return t.x+t.width/2}function n(t){return t.y+t.height/2}this.svg_=new t(h),this._actors_height=0,this._signals_height=0,this.actors=e,this.signals=i,this.width=0,this.height=0,this.draw=function(){this.layout(),this.svg_.setDocumentSize(this.width,this.height);this.draw_actors(10),this.draw_signals(10+this._actors_height)},this.layout=function(){this.width=0,this.height=0,this.actors.forEach(function(t){const e=this.svg_.getTextSize(t.label);t.text_bb=e,t.x=0,t.y=0,t.width=e.width+40,t.height=e.height+40,t.distances=[],t.padding_right=0,this._actors_height=Math.max(t.height,this._actors_height)},this),i.forEach(function(t){let i,s;const h=this.svg_.getTextSize(t.message);t.text_bb=h,t.width=h.width,t.height=h.height;let a=0;"signal"===t.type?(t.width+=20,t.height+=20,t.actorA===t.actorB?(s=(i=t.actorA.index)+1,t.width+=20):(i=Math.min(t.actorA.index,t.actorB.index),s=Math.max(t.actorA.index,t.actorB.index))):"note"===t.type&&(t.width+=30,t.height+=30,a=20,s=(i=t.actor.index)+1),function(t,i,s){console.assert(t<i,"a must be less than or equal to b"),t<0?(i=e[i]).x=Math.max(s-i.width/2,i.x):i>=e.length?(t=e[t]).padding_right=Math.max(s,t.padding_right):(t=e[t]).distances[i]=Math.max(s,t.distances[i]?t.distances[i]:0)}(i,s,t.width+a),this._signals_height+=t.height},this);let t=0;return this.actors.forEach(function(i){i.x=Math.max(t,i.x),i.distances.forEach(function(t,s){s=e[s],t=Math.max(t,i.width/2,s.width/2),s.x=Math.max(s.x,i.x+i.width/2+t-s.width/2)}),t=i.x+i.width+i.padding_right},this),this.width=20+Math.max(t,this.width),this.height=20+2*this._actors_height+this._signals_height,this},this.draw_actors=function(t){const e=t;this.actors.forEach(function(t){this.draw_actor(t,e,this._actors_height),this.draw_actor(t,e+this._actors_height+this._signals_height,this._actors_height);const i=a(t),s=this.svg_.createPath("M{0},{1} v{2}","solid",i,e+this._actors_height-10,20+this._signals_height);this.svg_.getDocument().appendChild(s)},this)},this.draw_actor=function(t,e,i){t.y=e,t.height=i,this.draw_text_box(t,t.label,10,10)},this.draw_signals=function(t){let e=t;this.signals.forEach(function(t){"signal"===t.type?t.actorA===t.actorB?this.draw_self_signal(t,e):this.draw_signal(t,e):"note"===t.type&&this.draw_note(t,e),e+=t.height},this)},this.draw_self_signal=function(t,e){const i=t.text_bb,s=a(t.actorA),h=s+20+5+i.width/2,n=e+t.height/2;this.draw_text(h,n,t.message,!0);const o=this.svg_.createPath("M{0},{1} C{2},{1} {2},{3} {0},{3}",t.linetype,s,e+5,s+40,e+t.height);o.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(o)},this.draw_signal=function(t,e){const i=a(t.actorA),s=a(t.actorB),h=(s-i)/2+i;let n=e+5+10;this.draw_text(h,n,t.message,!0),n=e+t.height-5-5;const o=this.svg_.createPath("M{0},{1} h{2}",t.linetype,i,n,s-i);o.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(o)},this.draw_note=function(t,e){const i=a(t.actor);t.x=i+10,t.y=e;const s=this.svg_.createPath("M{0},{1} L{0},{2} L{3},{2} L{0},{1} L{4},{1} L{4},{5} L{3},{5} L{3},{2} Z","solid",t.x-10+t.width-7,t.y+10,t.y+10+7,t.x-10+t.width,t.x+10,t.y-10+t.height);t.hasOwnProperty("bgcolor")&&s.setAttribute("style",s.getAttribute("style").replace("fill: none","fill: "+t.bgcolor)),this.svg_.getDocument().appendChild(s);let h=a(t),o=n(t);t.hasOwnProperty("fontcolor")?this.draw_text(h,o,t.message,!0,t.fontcolor):this.draw_text(h,o,t.message,!0)},this.draw_text=function(t,e,i,s,h){const a=this.svg_.createText(i,t,e,h);if(!s){const s=this.svg_.getTextSize(i),h=this.svg_.createRect(s.width,s.height);h.setAttribute("x",t),h.setAttribute("y",e),this.svg_.getDocument().appendChild(h)}this.svg_.getDocument().appendChild(a)},this.draw_text_box=function(t,e,i){let s=t.x+i,h=t.y+i;const o=t.width-2*i,r=t.height-2*i,c=this.svg_.createRect(o,r);c.setAttribute("x",s),c.setAttribute("y",h),this.svg_.getDocument().appendChild(c),s=a(t),h=n(t),this.draw_text(s,h,e,!0)},this.draw()}))},42:function(t,e,i){"use strict";i.r(e);var s=i(32),h=i(33);i(34);function a(t){const e=[],i=Object(s.splitYumlExpr)(t,"[");for(const t of i)if(/^\[.*\]$/.test(t)){const i=Object(s.extractBgAndNote)(t.substr(1,t.length-2),!0);e.push([i.isNote?"note":"object",i.part,i.bg,i.fontcolor])}else{if(!t.includes(">"))throw new Error("Invalid expression");{const i=t.includes(">>")?"async":t.includes(".>")?"dashed":"solid",s=t.startsWith("(")||t.startsWith(")")?t.charAt(0):"",h=t.match(/[\.|>]?>[\(|\)]?$/);if(null===h)throw new Error("Invalid expression");const a=h.index>0?t.substr(0,h.index):"";let n=t.endsWith("(")||t.endsWith(")")?t.charAt(t.length-1):"";e.push(["signal",s,a,i,n])}}return e}e.default=function(t,e){const n=[],o=[],r=new h.default;for(const e of t){const t=a(e);t.length;for(const e of t){const[t,i]=e;"object"===t&&r.createUid(i,e=>{const h={type:t,name:e,label:Object(s.formatLabel)(i,20,!0),index:n.length};return n.push(h),h})}const i=3===t.length&&"object"===t[0][0]&&"signal"===t[1][0];if(i&&"object"===t[2][0]){const[e,i,s,h]=t[1],a=r.getUid(t[0][1]),n=r.getUid(t[2][1]);switch(h){case"dashed":o.push({type:"signal",actorA:a,actorB:n,linetype:"dashed",arrowtype:"arrow-filled",message:s});break;case"solid":o.push({type:"signal",actorA:a,actorB:n,linetype:"solid",arrowtype:"arrow-filled",message:s});break;case"async":o.push({type:"signal",actorA:a,actorB:n,linetype:"solid",arrowtype:"arrow-open",message:s})}}else if(i&&"note"===t[2][0]){const e=r.getUid(t[0][1]),i={type:"note",message:Object(s.formatLabel)(t[2][1],20,!0),actor:e};t[2][2]&&(i.bgcolor=t[2][2]),t[2][3]&&(i.fontcolor=t[2][3]),o.push(i)}}return Promise.resolve().then(i.bind(null,34)).then(t=>t.default).then(t=>new t(n,o,r._uids,e.isDark)).then(t=>t.svg_.serialize())}}}]);