(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5,7,9],{10:function(t,e,i){"use strict";i.r(e),i.d(e,"escape_label",function(){return n}),i.d(e,"splitYumlExpr",function(){return r}),i.d(e,"extractBgAndNote",function(){return h}),i.d(e,"escape_token_escapes",function(){return a}),i.d(e,"unescape_token_escapes",function(){return o}),i.d(e,"recordName",function(){return c}),i.d(e,"formatLabel",function(){return d}),i.d(e,"wordwrap",function(){return l}),i.d(e,"serializeDot",function(){return u}),i.d(e,"serializeDotElements",function(){return g});var s=i(45);const n=function(t){const e={"{":"\\{","}":"\\}",";":"\n","<":"\\<",">":"\\>"};let i="";for(const s of t)i+=e[s]||s;return i},r=function*(t,e,i="\\"){const s={"[":"]","<":">","(":")","|":"|"};let n,r="";const h=t.length;for(let a=0;a<h;a++){const o=t.charAt(a);o===i&&a+1<h?r+=o+t.charAt(++a):e.includes(o)&&void 0===n?(r.length>0&&(yield r.trim()),n=s[o],r=o):o===n?(n=void 0,yield r.trim()+o,r=""):r+=o}r.length>0&&(yield r.trim())},h=function(t,e){const i={bg:"",isNote:!1,luma:128},n=/^(.*)\{ *bg *: *([a-zA-Z]+\d*|#[0-9a-fA-F]{6}) *\}$/.exec(t);if(null!==n&&3===n.length){const t=s(n[2].trim());i.part=n[1].trim(),i.bg=t.hex(),i.fontcolor=t.isDark()?"white":"black"}else i.part=t.trim();return e&&t.startsWith("note:")&&(i.part=i.part.substring(5).trim(),i.isNote=!0),i},a=function(t){return t.replace("\\[","\\u005b").replace("\\]","\\u005d")},o=function(t){return t.replace("\\u005b","[").replace("\\u005d","]")},c=t=>(t.includes("|")?t.substr(0,t.indexOf("|")):t).trim(),d=function(t,e,i){const s=i&&t.includes("|")?t.split("|"):[t];return n(s.map(t=>l(t,e,"\n")).join("|"))},l=function(t,e,i){if(t&&t.length>=e){let s=t.lastIndexOf(" ");if(s>0){const n=t.substring(0,s),r=t.substring(s+1);return n+i+l(r,e,i)}}return t},u=function(t){if(t.shape&&"record"===t.shape&&!/^<.+>(|<.+>)*$/.test(t.label)){if(t.label.includes("|")){const e={"\n":"<BR/>","&":"&amp;","<":"&lt;",">":"&gt;"};return'[fontsize=10,label=<<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="9">'+t.label.split("|").map(t=>{let i="<TD";if(t.startsWith("<")){const e=t.indexOf(">");i+=` PORT="${t.substr(1,e-1)}"`,t=t.substr(e+1)}i+=">";for(const s of t)i+=e[s]||s;return`<TR>${i+="</TD>"}</TR>`}).join("")+"</TABLE>>]"}t.shape="rectangle"}return"["+Object.keys(t).map(e=>`${e}=`+("string"==typeof t[e]?`"${t[e]}"`:t[e])).join(" , ")+" ]"},g=function(t){let e="";for(const i of t)2===i.length?e+=`\t${i[0]} ${u(i[1])}\n`:3===i.length&&(e+=`\t${i[0]} -> ${i[1]} ${u(i[2])}\n`);return e}},11:function(t,e,i){"use strict";i.r(e);var s=i(10);e.default=class{constructor(){this._uidNb=0,this._uids={}}createUid(t,e){const i=Object(s.recordName)(t);return!this._uids.hasOwnProperty(i)&&(this._uids[i]=e?e("A"+this._uidNb++):"A"+this._uidNb++)}getUid(t){return this._uids[Object(s.recordName)(t)]}}},12:function(t,e,i){"use strict";i.r(e),e.default=i.e(3).then(i.bind(null,13)).then(t=>t.default).then(t=>(function(e,i,s,n){function r(t){return t.x+t.width/2}function h(t){return t.y+t.height/2}this.svg_=new t(n),this._actors_height=0,this._signals_height=0,this.actors=e,this.signals=i,this.width=0,this.height=0,this.draw=function(){this.layout(),this.svg_.setDocumentSize(this.width,this.height);this.draw_actors(10),this.draw_signals(10+this._actors_height)},this.layout=function(){this.width=0,this.height=0,this.actors.forEach(function(t){const e=this.svg_.getTextSize(t.label);t.text_bb=e,t.x=0,t.y=0,t.width=e.width+40,t.height=e.height+40,t.distances=[],t.padding_right=0,this._actors_height=Math.max(t.height,this._actors_height)},this),i.forEach(function(t){let i,s;const n=this.svg_.getTextSize(t.message);t.text_bb=n,t.width=n.width,t.height=n.height;let r=0;"signal"===t.type?(t.width+=20,t.height+=20,t.actorA===t.actorB?(s=(i=t.actorA.index)+1,t.width+=20):(i=Math.min(t.actorA.index,t.actorB.index),s=Math.max(t.actorA.index,t.actorB.index))):"note"===t.type&&(t.width+=30,t.height+=30,r=20,s=(i=t.actor.index)+1),function(t,i,s){console.assert(t<i,"a must be less than or equal to b"),t<0?(i=e[i]).x=Math.max(s-i.width/2,i.x):i>=e.length?(t=e[t]).padding_right=Math.max(s,t.padding_right):(t=e[t]).distances[i]=Math.max(s,t.distances[i]?t.distances[i]:0)}(i,s,t.width+r),this._signals_height+=t.height},this);let t=0;return this.actors.forEach(function(i){i.x=Math.max(t,i.x),i.distances.forEach(function(t,s){s=e[s],t=Math.max(t,i.width/2,s.width/2),s.x=Math.max(s.x,i.x+i.width/2+t-s.width/2)}),t=i.x+i.width+i.padding_right},this),this.width=20+Math.max(t,this.width),this.height=20+2*this._actors_height+this._signals_height,this},this.draw_actors=function(t){const e=t;this.actors.forEach(function(t){this.draw_actor(t,e,this._actors_height),this.draw_actor(t,e+this._actors_height+this._signals_height,this._actors_height);const i=r(t),s=this.svg_.createPath("M{0},{1} v{2}","solid",i,e+this._actors_height-10,20+this._signals_height);this.svg_.getDocument().appendChild(s)},this)},this.draw_actor=function(t,e,i){t.y=e,t.height=i,this.draw_text_box(t,t.label,10,10)},this.draw_signals=function(t){let e=t;this.signals.forEach(function(t){"signal"===t.type?t.actorA===t.actorB?this.draw_self_signal(t,e):this.draw_signal(t,e):"note"===t.type&&this.draw_note(t,e),e+=t.height},this)},this.draw_self_signal=function(t,e){const i=t.text_bb,s=r(t.actorA),n=s+20+5+i.width/2,h=e+t.height/2;this.draw_text(n,h,t.message,!0);const a=this.svg_.createPath("M{0},{1} C{2},{1} {2},{3} {0},{3}",t.linetype,s,e+5,s+40,e+t.height);a.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(a)},this.draw_signal=function(t,e){const i=r(t.actorA),s=r(t.actorB),n=(s-i)/2+i;let h=e+5+10;this.draw_text(n,h,t.message,!0),h=e+t.height-5-5;const a=this.svg_.createPath("M{0},{1} h{2}",t.linetype,i,h,s-i);a.setAttribute("marker-end","url(#"+t.arrowtype+")"),this.svg_.getDocument().appendChild(a)},this.draw_note=function(t,e){const i=r(t.actor);t.x=i+10,t.y=e;const s=this.svg_.createPath("M{0},{1} L{0},{2} L{3},{2} L{0},{1} L{4},{1} L{4},{5} L{3},{5} L{3},{2} Z","solid",t.x-10+t.width-7,t.y+10,t.y+10+7,t.x-10+t.width,t.x+10,t.y-10+t.height);t.hasOwnProperty("bgcolor")&&s.setAttribute("style",s.getAttribute("style").replace("fill: none","fill: "+t.bgcolor)),this.svg_.getDocument().appendChild(s);let n=r(t),a=h(t);t.hasOwnProperty("fontcolor")?this.draw_text(n,a,t.message,!0,t.fontcolor):this.draw_text(n,a,t.message,!0)},this.draw_text=function(t,e,i,s,n){const r=this.svg_.createText(i,t,e,n);if(!s){const s=this.svg_.getTextSize(i),n=this.svg_.createRect(s.width,s.height);n.setAttribute("x",t),n.setAttribute("y",e),this.svg_.getDocument().appendChild(n)}this.svg_.getDocument().appendChild(r)},this.draw_text_box=function(t,e,i){let s=t.x+i,n=t.y+i;const a=t.width-2*i,o=t.height-2*i,c=this.svg_.createRect(a,o);c.setAttribute("x",s),c.setAttribute("y",n),this.svg_.getDocument().appendChild(c),s=r(t),n=h(t),this.draw_text(s,n,e,!0)},this.draw()}))},17:function(t,e,i){"use strict";i.r(e);var s=i(10),n=i(11);i(12);function r(t){const e=[],i=Object(s.splitYumlExpr)(t,"[");for(const t of i)if(/^\[.*\]$/.test(t)){const i=Object(s.extractBgAndNote)(t.substr(1,t.length-2),!0);e.push([i.isNote?"note":"object",i.part,i.bg,i.fontcolor])}else{if(!t.includes(">"))throw new Error("Invalid expression");{const i=t.includes(">>")?"async":t.includes(".>")?"dashed":"solid",s=t.startsWith("(")||t.startsWith(")")?t.charAt(0):"",n=t.match(/[\.|>]?>[\(|\)]?$/);if(null===n)throw new Error("Invalid expression");const r=n.index>0?t.substr(0,n.index):"";let h=t.endsWith("(")||t.endsWith(")")?t.charAt(t.length-1):"";e.push(["signal",s,r,i,h])}}return e}e.default=function(t,e){const h=[],a=[],o=new n.default;for(const e of t){const t=r(e);t.length;for(const e of t){const[t,i]=e;"object"===t&&o.createUid(i,e=>{const n={type:t,name:e,label:Object(s.formatLabel)(i,20,!0),index:h.length};return h.push(n),n})}const i=3===t.length&&"object"===t[0][0]&&"signal"===t[1][0];if(i&&"object"===t[2][0]){const[e,i,s,n]=t[1],r=o.getUid(t[0][1]),h=o.getUid(t[2][1]);switch(n){case"dashed":a.push({type:"signal",actorA:r,actorB:h,linetype:"dashed",arrowtype:"arrow-filled",message:s});break;case"solid":a.push({type:"signal",actorA:r,actorB:h,linetype:"solid",arrowtype:"arrow-filled",message:s});break;case"async":a.push({type:"signal",actorA:r,actorB:h,linetype:"solid",arrowtype:"arrow-open",message:s})}}else if(i&&"note"===t[2][0]){const e=o.getUid(t[0][1]),i={type:"note",message:Object(s.formatLabel)(t[2][1],20,!0),actor:e};t[2][2]&&(i.bgcolor=t[2][2]),t[2][3]&&(i.fontcolor=t[2][3]),a.push(i)}}return Promise.resolve().then(i.bind(null,12)).then(t=>t.default).then(t=>new t(h,a,o._uids,e.isDark)).then(t=>t.svg_.serialize())}}}]);